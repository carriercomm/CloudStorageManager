## CloudStorageManager

CloudStorageManager is a simple synchronize tool for the Cloud Storages.

## Usage

Prepare the API settings:

``` java
Properties settings = new Properties();
settings.put(AwsS3Storage.AWS_S3_ACCESS_ID, "[s3_access_id]");
settings.put(AwsS3Storage.AWS_S3_SECRET, "[s3_secret]");
settings.put(AwsS3Storage.AWS_S3_BUCKET, "[s3_bucket_name]");

settings.put(AzureStorage.AZURE_STORAGE_ACCESS_ID, "[azure_storage_account]");
settings.put(AzureStorage.AZURE_STORAGE_SECRET, "[azure_storage_secret]");
settings.put(AzureStorage.AZURE_STORAGE_CONTAINER, "[azure_container_name]");
```

Create the storage:

``` java
IStorage awsS3Storage = new AwsS3Storage(settings);
IStorage azureStorage = new AzureStorage(settings);
```

Create the storage-manager and issue the synchronization:

``` java
StorageManager storageManager = new StorageManager(); 

storageManager.synchronize("file-to-sync-from-s3-to-azure", awsS3Storage, azureStorage);
storageManager.synchronize("file-to-sync-from-azure-to-s3", azureStorage, awsS3Storage);
```

## How to identify the file's equality ?

The identification is very different for each cloud-storage provider. 
Even using the same storage provider, it can be different content signature by the differnt uploading tool or method.

We use the user-defined metadata to save the internal content signature (using the key `x-signature`). 
The value of the file's content signature is not md5hex calculated by our tool, 
it is just a copy from the existing value which generated by cloud-storage provider or other uploading tool.

